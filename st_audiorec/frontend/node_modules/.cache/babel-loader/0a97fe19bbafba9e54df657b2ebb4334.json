{"ast":null,"code":"// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Visitor } from '../visitor';\nimport { ArrowType, Precision, DateUnit, TimeUnit, IntervalUnit, UnionMode } from '../enum';\n/** @ignore */\n\nexport class JSONTypeAssembler extends Visitor {\n  visit(node) {\n    return node == null ? undefined : super.visit(node);\n  }\n\n  visitNull(_ref) {\n    let {\n      typeId\n    } = _ref;\n    return {\n      'name': ArrowType[typeId].toLowerCase()\n    };\n  }\n\n  visitInt(_ref2) {\n    let {\n      typeId,\n      bitWidth,\n      isSigned\n    } = _ref2;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'bitWidth': bitWidth,\n      'isSigned': isSigned\n    };\n  }\n\n  visitFloat(_ref3) {\n    let {\n      typeId,\n      precision\n    } = _ref3;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'precision': Precision[precision]\n    };\n  }\n\n  visitBinary(_ref4) {\n    let {\n      typeId\n    } = _ref4;\n    return {\n      'name': ArrowType[typeId].toLowerCase()\n    };\n  }\n\n  visitBool(_ref5) {\n    let {\n      typeId\n    } = _ref5;\n    return {\n      'name': ArrowType[typeId].toLowerCase()\n    };\n  }\n\n  visitUtf8(_ref6) {\n    let {\n      typeId\n    } = _ref6;\n    return {\n      'name': ArrowType[typeId].toLowerCase()\n    };\n  }\n\n  visitDecimal(_ref7) {\n    let {\n      typeId,\n      scale,\n      precision\n    } = _ref7;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'scale': scale,\n      'precision': precision\n    };\n  }\n\n  visitDate(_ref8) {\n    let {\n      typeId,\n      unit\n    } = _ref8;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'unit': DateUnit[unit]\n    };\n  }\n\n  visitTime(_ref9) {\n    let {\n      typeId,\n      unit,\n      bitWidth\n    } = _ref9;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'unit': TimeUnit[unit],\n      bitWidth\n    };\n  }\n\n  visitTimestamp(_ref10) {\n    let {\n      typeId,\n      timezone,\n      unit\n    } = _ref10;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'unit': TimeUnit[unit],\n      timezone\n    };\n  }\n\n  visitInterval(_ref11) {\n    let {\n      typeId,\n      unit\n    } = _ref11;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'unit': IntervalUnit[unit]\n    };\n  }\n\n  visitList(_ref12) {\n    let {\n      typeId\n    } = _ref12;\n    return {\n      'name': ArrowType[typeId].toLowerCase()\n    };\n  }\n\n  visitStruct(_ref13) {\n    let {\n      typeId\n    } = _ref13;\n    return {\n      'name': ArrowType[typeId].toLowerCase()\n    };\n  }\n\n  visitUnion(_ref14) {\n    let {\n      typeId,\n      mode,\n      typeIds\n    } = _ref14;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'mode': UnionMode[mode],\n      'typeIds': [...typeIds]\n    };\n  }\n\n  visitDictionary(node) {\n    return this.visit(node.dictionary);\n  }\n\n  visitFixedSizeBinary(_ref15) {\n    let {\n      typeId,\n      byteWidth\n    } = _ref15;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'byteWidth': byteWidth\n    };\n  }\n\n  visitFixedSizeList(_ref16) {\n    let {\n      typeId,\n      listSize\n    } = _ref16;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'listSize': listSize\n    };\n  }\n\n  visitMap(_ref17) {\n    let {\n      typeId,\n      keysSorted\n    } = _ref17;\n    return {\n      'name': ArrowType[typeId].toLowerCase(),\n      'keysSorted': keysSorted\n    };\n  }\n\n}","map":{"version":3,"mappings":"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","names":["Visitor","ArrowType","Precision","DateUnit","TimeUnit","IntervalUnit","UnionMode","JSONTypeAssembler","visit","node","undefined","visitNull","typeId","toLowerCase","visitInt","bitWidth","isSigned","visitFloat","precision","visitBinary","visitBool","visitUtf8","visitDecimal","scale","visitDate","unit","visitTime","visitTimestamp","timezone","visitInterval","visitList","visitStruct","visitUnion","mode","typeIds","visitDictionary","dictionary","visitFixedSizeBinary","byteWidth","visitFixedSizeList","listSize","visitMap","keysSorted"],"sources":["visitor/jsontypeassembler.ts"],"sourcesContent":["// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\nimport * as type from '../type';\nimport { Visitor } from '../visitor';\nimport { ArrowType, Precision, DateUnit, TimeUnit, IntervalUnit, UnionMode } from '../enum';\n\n/** @ignore */\nexport interface JSONTypeAssembler extends Visitor {\n    visit<T extends type.DataType>(node: T): object | undefined;\n}\n\n/** @ignore */\nexport class JSONTypeAssembler extends Visitor {\n    public visit<T extends type.DataType>(node: T): object | undefined {\n        return node == null ? undefined : super.visit(node);\n    }\n    public visitNull<T extends type.Null>({ typeId }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase() };\n    }\n    public visitInt<T extends type.Int>({ typeId, bitWidth, isSigned }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'bitWidth': bitWidth, 'isSigned': isSigned };\n    }\n    public visitFloat<T extends type.Float>({ typeId, precision }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'precision': Precision[precision] };\n    }\n    public visitBinary<T extends type.Binary>({ typeId }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase() };\n    }\n    public visitBool<T extends type.Bool>({ typeId }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase() };\n    }\n    public visitUtf8<T extends type.Utf8>({ typeId }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase() };\n    }\n    public visitDecimal<T extends type.Decimal>({ typeId, scale, precision }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'scale': scale, 'precision': precision };\n    }\n    public visitDate<T extends type.Date_>({ typeId, unit }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'unit': DateUnit[unit] };\n    }\n    public visitTime<T extends type.Time>({ typeId, unit, bitWidth }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'unit': TimeUnit[unit], bitWidth };\n    }\n    public visitTimestamp<T extends type.Timestamp>({ typeId, timezone, unit }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'unit': TimeUnit[unit], timezone };\n    }\n    public visitInterval<T extends type.Interval>({ typeId, unit }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'unit': IntervalUnit[unit] };\n    }\n    public visitList<T extends type.List>({ typeId }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase() };\n    }\n    public visitStruct<T extends type.Struct>({ typeId }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase() };\n    }\n    public visitUnion<T extends type.Union>({ typeId, mode, typeIds }: T) {\n        return {\n            'name': ArrowType[typeId].toLowerCase(),\n            'mode': UnionMode[mode],\n            'typeIds': [...typeIds]\n        };\n    }\n    public visitDictionary<T extends type.Dictionary>(node: T) {\n        return this.visit(node.dictionary);\n    }\n    public visitFixedSizeBinary<T extends type.FixedSizeBinary>({ typeId, byteWidth }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'byteWidth': byteWidth };\n    }\n    public visitFixedSizeList<T extends type.FixedSizeList>({ typeId, listSize }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'listSize': listSize };\n    }\n    public visitMap<T extends type.Map_>({ typeId, keysSorted }: T) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'keysSorted': keysSorted };\n    }\n}\n"]},"metadata":{},"sourceType":"module"}